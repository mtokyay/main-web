{"ast":null,"code":"import { PREFIX as t, OBJECT as e, UNDEFINED as r } from \"@analytics/type-utils\";\nvar l = \"global\",\n  o = t + \"global\" + t,\n  n = typeof self === e && self.self === self && self || typeof global === e && global.global === global && global || void 0;\nfunction a(t) {\n  return n[o][t];\n}\nfunction f(t, e) {\n  return n[o][t] = e;\n}\nfunction i(t) {\n  delete n[o][t];\n}\nfunction u(t, e, r) {\n  var l;\n  try {\n    if (b(t)) {\n      var o = window[t];\n      l = o[e].bind(o);\n    }\n  } catch (t) {}\n  return l || r;\n}\nn[o] || (n[o] = {});\nvar c = {};\nfunction b(t) {\n  if (typeof c[t] !== r) return c[t];\n  try {\n    var e = window[t];\n    e.setItem(r, r), e.removeItem(r);\n  } catch (e) {\n    return c[t] = !1;\n  }\n  return c[t] = !0;\n}\nexport { l as GLOBAL, o as KEY, a as get, n as globalContext, b as hasSupport, i as remove, f as set, u as wrap };","map":{"version":3,"names":["l","o","t","n","self","e","global","a","f","i","u","r","b","window","bind","c","setItem","removeItem","GLOBAL","KEY","get","globalContext","hasSupport","remove","set","wrap"],"sources":["/Users/mehmettokyay/Documents/new-theme-react/main-website/node_modules/@analytics/global-storage-utils/src/index.js"],"sourcesContent":["import { OBJECT, PREFIX, UNDEFINED } from '@analytics/type-utils'\n\nexport const GLOBAL = 'global'\n\nexport const KEY = PREFIX + GLOBAL + PREFIX\n\nexport const globalContext = (typeof self === OBJECT && self.self === self && self) || (typeof global === OBJECT && global[GLOBAL] === global && global) || this\n\n/* initialize global object */\nif (!globalContext[KEY]) {\n  globalContext[KEY] = {}\n}\n/**\n * Get value from global context\n * @param {string} key - Key of value to get\n * @returns {*} value\n */\nexport function get(key) {\n  return globalContext[KEY][key]\n}\n\n/**\n * Set value to global context\n * @param {string} key - Key of value to set\n * @param {*} value \n * @returns value\n */\nexport function set(key, value) {\n  return globalContext[KEY][key] = value\n}\n\n/**\n * Remove value to global context\n * @param {string} key - Key of value to remove\n */\nexport function remove(key) {\n  delete globalContext[KEY][key]\n}\n\n/**\n * Wrap localStorage & session storage checks\n * @param {string} type - localStorage or sessionStorage\n * @param {string} storageOperation - getItem, setItem, removeItem\n * @param {function} fallbackFunction - fallback function\n */\nexport function wrap(type, operation, fallback) {\n  let fn\n  try {\n    if (hasSupport(type)) {\n      const storage = window[type]\n      fn = storage[operation].bind(storage)\n    }\n  } catch(e) {}\n  return fn || fallback\n}\n\nconst cache = {}\nexport function hasSupport(type) {\n  if (typeof cache[type] !== UNDEFINED) {\n    return cache[type]\n  }\n  try {\n    const storage = window[type]\n    // test for private safari\n    storage.setItem(UNDEFINED, UNDEFINED)\n    storage.removeItem(UNDEFINED)\n  } catch (err) {\n    return cache[type] = false\n  }\n  return cache[type] = true\n}\n\n/*\n// () => localStorage)\n// () => sessionStorage)\nexport function isSupported(getStorage) {\n  try {\n    const testKey = '__' + undef\n    getStorage().setItem(testKey, testKey)\n    getStorage().removeItem(testKey)\n    return true\n  } catch (e) {\n    return false\n  }\n}\n*/\n"],"mappings":";AAEa,IAAAA,CAAA,GAAS;EAETC,CAAA,GAAMC,CAAA,GAFG,WAEeA,CAAA;EAExBC,CAAA,UAAwBC,IAAA,KAASC,CAAA,IAAUD,IAAA,CAAKA,IAAA,KAASA,IAAA,IAAQA,IAAA,WAAiBE,MAAA,KAAWD,CAAA,IAAUC,MAAA,CAAMA,MAAA,KAAaA,MAAA,IAAUA,MAAA,SAAW;AAAA,SAW5IC,EAAIL,CAAA;EAClB,OAAOC,CAAA,CAAcF,CAAA,EAAKC,CAAA;AAAA;AAAA,SASZM,EAAIN,CAAA,EAAKG,CAAA;EACvB,OAAOF,CAAA,CAAcF,CAAA,EAAKC,CAAA,IAAOG,CAAA;AAAA;AAAA,SAOnBI,EAAOP,CAAA;EAAA,OACdC,CAAA,CAAcF,CAAA,EAAKC,CAAA;AAAA;AAAA,SASZQ,EAAKR,CAAA,EAAMG,CAAA,EAAWM,CAAA;EACpC,IAAIX,CAAA;EACJ;IACE,IAAIY,CAAA,CAAWV,CAAA,GAAO;MACpB,IAAMD,CAAA,GAAUY,MAAA,CAAOX,CAAA;MACvBF,CAAA,GAAKC,CAAA,CAAQI,CAAA,EAAWS,IAAA,CAAKb,CAAA;IAAA;EAAA,CAE/B,QAAMC,CAAA;EACR,OAAOF,CAAA,IAAMW,CAAA;AAAA;AA5CVR,CAAA,CAAcF,CAAA,MACjBE,CAAA,CAAcF,CAAA,IAAO;AA8CvB,IAAMc,CAAA,GAAQ;AAAA,SACEH,EAAWV,CAAA;EACzB,WAAWa,CAAA,CAAMb,CAAA,MAAUS,CAAA,EACzB,OAAOI,CAAA,CAAMb,CAAA;EAEf;IACE,IAAMG,CAAA,GAAUQ,MAAA,CAAOX,CAAA;IAEvBG,CAAA,CAAQW,OAAA,CAAQL,CAAA,EAAWA,CAAA,GAC3BN,CAAA,CAAQY,UAAA,CAAWN,CAAA;EAAA,CACnB,QAAON,CAAA;IACP,OAAOU,CAAA,CAAMb,CAAA,KAAQ;EAAA;EAEvB,OAAOa,CAAA,CAAMb,CAAA,KAAQ;AAAA;AAAA,SAAAF,CAAA,IAAAkB,MAAA,EAAAjB,CAAA,IAAAkB,GAAA,EAAAZ,CAAA,IAAAa,GAAA,EAAAjB,CAAA,IAAAkB,aAAA,EAAAT,CAAA,IAAAU,UAAA,EAAAb,CAAA,IAAAc,MAAA,EAAAf,CAAA,IAAAgB,GAAA,EAAAd,CAAA,IAAAe,IAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}