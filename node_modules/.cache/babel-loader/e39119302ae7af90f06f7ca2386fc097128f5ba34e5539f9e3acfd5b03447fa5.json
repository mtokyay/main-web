{"ast":null,"code":"import{useRef,useEffect}from\"react\";// Make an API request to `/api/{path}`\nexport function apiRequest(path){var method=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"GET\";var data=arguments.length>2?arguments[2]:undefined;return fetch(\"/api/\".concat(path),{method:method,headers:{\"Content-Type\":\"application/json\"},body:data?JSON.stringify(data):undefined}).then(function(response){return response.json();}).then(function(response){if(response.status===\"error\"){throw new CustomError(response.code,response.message);}else{return response.data;}});}// Make an API request to any external URL\nexport function apiRequestExternal(url){var method=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"GET\";var data=arguments.length>2?arguments[2]:undefined;return fetch(url,{method:method,headers:{accept:\"application/json\",\"Content-Type\":\"application/json\"},body:data?JSON.stringify(data):undefined}).then(function(response){return response.json();});}// Create an Error with custom message and code\nexport function CustomError(code,message){var error=new Error(message);error.code=code;return error;}// Hook that returns previous value of state\nexport function usePrevious(state){var ref=useRef();useEffect(function(){ref.current=state;});return ref.current;}","map":{"version":3,"names":["useRef","useEffect","apiRequest","path","method","arguments","length","undefined","data","fetch","concat","headers","body","JSON","stringify","then","response","json","status","CustomError","code","message","apiRequestExternal","url","accept","error","Error","usePrevious","state","ref","current"],"sources":["/Users/mehmettokyay/Documents/new-theme-react/main-web/src/util/util.js"],"sourcesContent":["import { useRef, useEffect } from \"react\";\n\n// Make an API request to `/api/{path}`\nexport function apiRequest(path, method = \"GET\", data) {\n  return fetch(`/api/${path}`, {\n    method: method,\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: data ? JSON.stringify(data) : undefined,\n  })\n    .then((response) => response.json())\n    .then((response) => {\n      if (response.status === \"error\") {\n        throw new CustomError(response.code, response.message);\n      } else {\n        return response.data;\n      }\n    });\n}\n\n// Make an API request to any external URL\nexport function apiRequestExternal(url, method = \"GET\", data) {\n  return fetch(url, {\n    method: method,\n    headers: {\n      accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: data ? JSON.stringify(data) : undefined,\n  }).then((response) => response.json());\n}\n\n// Create an Error with custom message and code\nexport function CustomError(code, message) {\n  const error = new Error(message);\n  error.code = code;\n  return error;\n}\n\n// Hook that returns previous value of state\nexport function usePrevious(state) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = state;\n  });\n  return ref.current;\n}\n"],"mappings":"AAAA,OAASA,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAEzC;AACA,MAAO,SAAS,CAAAC,UAAUA,CAACC,IAAI,CAAwB,IAAtB,CAAAC,MAAM,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,KAAK,IAAE,CAAAG,IAAI,CAAAH,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CACnD,MAAO,CAAAE,KAAK,SAAAC,MAAA,CAASP,IAAI,EAAI,CAC3BC,MAAM,CAAEA,MAAM,CACdO,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEJ,IAAI,CAAGK,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,CAAGD,SACtC,CAAC,CAAC,CACCQ,IAAI,CAAC,SAACC,QAAQ,QAAK,CAAAA,QAAQ,CAACC,IAAI,CAAC,CAAC,GAAC,CACnCF,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAIA,QAAQ,CAACE,MAAM,GAAK,OAAO,CAAE,CAC/B,KAAM,IAAI,CAAAC,WAAW,CAACH,QAAQ,CAACI,IAAI,CAAEJ,QAAQ,CAACK,OAAO,CAAC,CACxD,CAAC,IAAM,CACL,MAAO,CAAAL,QAAQ,CAACR,IAAI,CACtB,CACF,CAAC,CAAC,CACN,CAEA;AACA,MAAO,SAAS,CAAAc,kBAAkBA,CAACC,GAAG,CAAwB,IAAtB,CAAAnB,MAAM,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,KAAK,IAAE,CAAAG,IAAI,CAAAH,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CAC1D,MAAO,CAAAE,KAAK,CAACc,GAAG,CAAE,CAChBnB,MAAM,CAAEA,MAAM,CACdO,OAAO,CAAE,CACPa,MAAM,CAAE,kBAAkB,CAC1B,cAAc,CAAE,kBAClB,CAAC,CACDZ,IAAI,CAAEJ,IAAI,CAAGK,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,CAAGD,SACtC,CAAC,CAAC,CAACQ,IAAI,CAAC,SAACC,QAAQ,QAAK,CAAAA,QAAQ,CAACC,IAAI,CAAC,CAAC,GAAC,CACxC,CAEA;AACA,MAAO,SAAS,CAAAE,WAAWA,CAACC,IAAI,CAAEC,OAAO,CAAE,CACzC,GAAM,CAAAI,KAAK,CAAG,GAAI,CAAAC,KAAK,CAACL,OAAO,CAAC,CAChCI,KAAK,CAACL,IAAI,CAAGA,IAAI,CACjB,MAAO,CAAAK,KAAK,CACd,CAEA;AACA,MAAO,SAAS,CAAAE,WAAWA,CAACC,KAAK,CAAE,CACjC,GAAM,CAAAC,GAAG,CAAG7B,MAAM,CAAC,CAAC,CACpBC,SAAS,CAAC,UAAM,CACd4B,GAAG,CAACC,OAAO,CAAGF,KAAK,CACrB,CAAC,CAAC,CACF,MAAO,CAAAC,GAAG,CAACC,OAAO,CACpB"},"metadata":{},"sourceType":"module","externalDependencies":[]}