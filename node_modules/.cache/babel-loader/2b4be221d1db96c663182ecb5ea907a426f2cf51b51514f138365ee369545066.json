{"ast":null,"code":"import _slicedToArray from \"/Users/mehmettokyay/Documents/new-theme-react/main-web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport storage from './storage';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nexport default function useLocalStorageStateBase(key, defaultValue) {\n  // we don't support updating the `defaultValue` the same way `useState()` doesn't support it\n  var _useState = useState(function () {\n      var isCallable = function isCallable(value) {\n        return typeof value === 'function';\n      };\n      return isCallable(defaultValue) ? defaultValue() : defaultValue;\n    }),\n    _useState2 = _slicedToArray(_useState, 1),\n    defaultValueState = _useState2[0];\n  var getDefaultState = useCallback(function () {\n    return {\n      value: storage.get(key, defaultValueState),\n      isPersistent: function () {\n        /**\n         * We want to return `true` on the server. If you render a message based on `isPersistent` and the\n         * server returns `false` then the message will flicker until hydration is done:\n         * `{!isPersistent && <span>You changes aren't being persisted.</span>}`\n         */\n        if (typeof window === 'undefined') {\n          return true;\n        }\n        try {\n          localStorage.setItem('__ulss', '#');\n          localStorage.removeItem('__ulss');\n          return true;\n        } catch (_a) {\n          return false;\n        }\n      }()\n    };\n  }, [defaultValueState, key]);\n  var _useState3 = useState(getDefaultState),\n    _useState4 = _slicedToArray(_useState3, 2),\n    state = _useState4[0],\n    setState = _useState4[1];\n  var updateValue = useMemo(function () {\n    var fn = function fn(newValue) {\n      var isCallable = function isCallable(value) {\n        return typeof value === 'function';\n      };\n      if (isCallable(newValue)) {\n        setState(function (state) {\n          return {\n            value: newValue(state.value),\n            isPersistent: storage.set(key, newValue(state.value))\n          };\n        });\n      } else {\n        setState({\n          value: newValue,\n          isPersistent: storage.set(key, newValue)\n        });\n      }\n    };\n    fn.reset = function () {\n      storage.remove(key);\n      setState(function (state) {\n        return {\n          value: defaultValueState,\n          isPersistent: state.isPersistent\n        };\n      });\n    };\n    return fn;\n  }, [key, defaultValueState]);\n  /**\n   * Syncs changes across tabs and iframe's.\n   */\n  useEffect(function () {\n    var onStorage = function onStorage(e) {\n      if (e.storageArea === localStorage && e.key === key) {\n        setState({\n          value: storage.get(key, defaultValueState),\n          isPersistent: true\n        });\n      }\n    };\n    window.addEventListener('storage', onStorage);\n    return function () {\n      return window.removeEventListener('storage', onStorage);\n    };\n  }, [key, defaultValueState]);\n  /**\n   * Update the state when the `key` property changes.\n   */\n  var isFirstRender = useRef(true);\n  useEffect(function () {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n    setState(getDefaultState());\n  }, [getDefaultState]);\n  return [state.value, updateValue, state.isPersistent];\n}","map":{"version":3,"names":["storage","useCallback","useEffect","useMemo","useRef","useState","useLocalStorageStateBase","key","defaultValue","_useState","isCallable","value","_useState2","_slicedToArray","defaultValueState","getDefaultState","get","isPersistent","window","localStorage","setItem","removeItem","_a","_useState3","_useState4","state","setState","updateValue","fn","newValue","set","reset","remove","onStorage","e","storageArea","addEventListener","removeEventListener","isFirstRender","current"],"sources":["/Users/mehmettokyay/Documents/new-theme-react/main-web/node_modules/use-local-storage-state/es/src/useLocalStorageStateBase.js"],"sourcesContent":["import storage from './storage';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nexport default function useLocalStorageStateBase(key, defaultValue) {\n    // we don't support updating the `defaultValue` the same way `useState()` doesn't support it\n    const [defaultValueState] = useState(() => {\n        const isCallable = (value) => typeof value === 'function';\n        return isCallable(defaultValue) ? defaultValue() : defaultValue;\n    });\n    const getDefaultState = useCallback(() => {\n        return {\n            value: storage.get(key, defaultValueState),\n            isPersistent: (() => {\n                /**\n                 * We want to return `true` on the server. If you render a message based on `isPersistent` and the\n                 * server returns `false` then the message will flicker until hydration is done:\n                 * `{!isPersistent && <span>You changes aren't being persisted.</span>}`\n                 */\n                if (typeof window === 'undefined') {\n                    return true;\n                }\n                try {\n                    localStorage.setItem('__ulss', '#');\n                    localStorage.removeItem('__ulss');\n                    return true;\n                }\n                catch (_a) {\n                    return false;\n                }\n            })(),\n        };\n    }, [defaultValueState, key]);\n    const [state, setState] = useState(getDefaultState);\n    const updateValue = useMemo(() => {\n        const fn = (newValue) => {\n            const isCallable = (value) => typeof value === 'function';\n            if (isCallable(newValue)) {\n                setState((state) => ({\n                    value: newValue(state.value),\n                    isPersistent: storage.set(key, newValue(state.value)),\n                }));\n            }\n            else {\n                setState({\n                    value: newValue,\n                    isPersistent: storage.set(key, newValue),\n                });\n            }\n        };\n        fn.reset = () => {\n            storage.remove(key);\n            setState((state) => ({\n                value: defaultValueState,\n                isPersistent: state.isPersistent,\n            }));\n        };\n        return fn;\n    }, [key, defaultValueState]);\n    /**\n     * Syncs changes across tabs and iframe's.\n     */\n    useEffect(() => {\n        const onStorage = (e) => {\n            if (e.storageArea === localStorage && e.key === key) {\n                setState({\n                    value: storage.get(key, defaultValueState),\n                    isPersistent: true,\n                });\n            }\n        };\n        window.addEventListener('storage', onStorage);\n        return () => window.removeEventListener('storage', onStorage);\n    }, [key, defaultValueState]);\n    /**\n     * Update the state when the `key` property changes.\n     */\n    const isFirstRender = useRef(true);\n    useEffect(() => {\n        if (isFirstRender.current) {\n            isFirstRender.current = false;\n            return;\n        }\n        setState(getDefaultState());\n    }, [getDefaultState]);\n    return [state.value, updateValue, state.isPersistent];\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}